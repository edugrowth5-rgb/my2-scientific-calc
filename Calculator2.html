<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoreByte Pro Calculator</title>
    <style>
        /* --- प्रीमियम डिज़ाइन (CSS) --- */
        body {
            background: #0f172a;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            font-family: 'Segoe UI', sans-serif;
        }

        .calculator {
            background: #1e293b;
            padding: 20px;
            border-radius: 25px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.5);
            width: 320px;
        }

        #display {
            width: 100%;
            height: 60px;
            background: #0f172a;
            border: none;
            border-radius: 10px;
            color: #22d3ee;
            text-align: right;
            padding: 10px;
            font-size: 2rem;
            margin-bottom: 20px;
            outline: none;
            box-sizing: border-box;
        }

        .row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        button {
            width: 65px;
            height: 65px;
            border-radius: 15px;
            border: none;
            background: #334155;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: 0.2s;
        }

        button:hover { background: #475569; }

        /* स्पेशल नीले बटन्स (GT, Memory) */
        .special-btn {
            background: linear-gradient(145deg, #1e3a8a, #3b82f6) !important;
            color: #00ffcc !important;
            font-weight: bold;
            font-size: 0.9rem;
        }

        /* AC और DEL (लाल बटन्स) */
        .clear-btn {
            background: linear-gradient(145deg, #b91c1c, #ef4444) !important;
            color: white;
        }

        /* Operator (+, -, *, /) */
        .operator-btn {
            background: #f59e0b;
            color: #0f172a;
            font-weight: bold;
        }

        button:active { transform: scale(0.95); box-shadow: 0 0 10px rgba(0,255,204,0.4); }
    </style>
</head>
<body>

<div class="calculator">
    <input type="text" id="display" value="0" readonly>

    <div class="row">
        <button class="special-btn" onclick="memoryRecallClear()">MRC</button>
        <button class="special-btn" onclick="memoryMinus()">M-</button>
        <button class="special-btn" onclick="memoryPlus()">M+</button>
        <button class="special-btn" onclick="showGrandTotal()">GT</button>
    </div>

    <div class="row">
        <button class="clear-btn" onclick="clearAll()">AC</button>
        <button class="clear-btn" onclick="deleteLast()">DEL</button>
        <button class="operator-btn" onclick="appendOperator('/')">/</button>
        <button class="operator-btn" onclick="appendOperator('*')">×</button>
    </div>

    <div class="row">
        <button onclick="appendNumber('7')">7</button>
        <button onclick="appendNumber('8')">8</button>
        <button onclick="appendNumber('9')">9</button>
        <button class="operator-btn" onclick="appendOperator('-')">-</button>
    </div>

    <div class="row">
        <button onclick="appendNumber('4')">4</button>
        <button onclick="appendNumber('5')">5</button>
        <button onclick="appendNumber('6')">6</button>
        <button class="operator-btn" onclick="appendOperator('+')">+</button>
    </div>

    <div class="row">
        <button onclick="appendNumber('1')">1</button>
        <button onclick="appendNumber('2')">2</button>
        <button onclick="appendNumber('3')">3</button>
        <button class="operator-btn" style="background:#22d3ee; color:#0f172a" onclick="calculate()">=</button>
    </div>

    <div class="row">
        <button style="width: 145px;" onclick="appendNumber('0')">0</button>
        <button onclick="appendNumber('.')">.</button>
    </div>
</div>

<script>
    let display = document.getElementById('display');
    let memory = 0;
    let grandTotal = 0;
    let mrcClickCount = 0;

    // नंबर जोड़ना (स्मार्ट 0 हैंडलिंग के साथ)
    function appendNumber(num) {
        if (display.value === "0" || display.value === "Error") {
            display.value = num;
        } else {
            display.value += num;
        }
    }

    // ऑपरेटर जोड़ना
    function appendOperator(op) {
        let lastChar = display.value.slice(-1);
        if (['+','-','*','/'].includes(lastChar)) {
            display.value = display.value.slice(0, -1) + op;
        } else {
            display.value += op;
        }
    }

    // AC बटन (सब साफ़)
    function clearAll() {
        display.value = "0";
        memory = 0;
        grandTotal = 0;
        mrcClickCount = 0;
    }

    // DEL बटन
    function deleteLast() {
        display.value = display.value.slice(0, -1);
        if (display.value === "") display.value = "0";
    }

    // बराबर (=) और GT लॉजिक
    function calculate() {
        try {
            let result = eval(display.value);
            display.value = result;
            grandTotal += result; // रिजल्ट को GT में जोड़ें
        } catch (e) {
            display.value = "Error";
        }
    }

    function showGrandTotal() {
        display.value = grandTotal;
    }

    // Memory Functions
    function memoryPlus() {
        memory += parseFloat(display.value) || 0;
    }

    function memoryMinus() {
        memory -= parseFloat(display.value) || 0;
    }

    function memoryRecallClear() {
        mrcClickCount++;
        if (mrcClickCount === 1) {
            display.value = memory;
        } else {
            memory = 0;
            display.value = "0";
            mrcClickCount = 0;
        }
    }
</script>

</body>
</html>
